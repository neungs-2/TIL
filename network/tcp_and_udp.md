# **TCP and UDP**

전송 계층(4계층)에서 데이터를 보내기 위해 사용하는 프로토콜 (TCP/IP 프로토콜)
![image](https://user-images.githubusercontent.com/60606025/152747448-a9861ecf-7315-4361-b47e-6b10e2e4d804.png)

<br>

## **Transmission Control Protocol; TCP**

- OSI 계층 모델의 4계층에 해당하는 TCP/IP 프로토콜 중 하나
- 양종단 호스트 내 프로세스 상호 간 **신뢰적인 연결 지향성** 서비스 제공
- **연속성보다 신뢰성 있는 전송**이 필요할 때 사용
  - 흐름/혼잡 제어 등의 기능으로 **UDP보다 속도가 느리기** 때문
- 데이터 전송 단위: 세그먼트

![image](https://user-images.githubusercontent.com/60606025/152756077-1e7032f0-a3a0-4030-97c1-230c40c1865e.png)

<br>

### **TCP 특징**

- 높은 신뢰성
  - 패킷 손실, 중복, 순서바뀜이 없도록 보장
- 연결 지향적
  - 연결형 서비스로 가상 회선 방식 제공
  - 느슨한 연결(Loosly Connected)
  - 연결 설정 및 해제 필요
- 흐름제어 및 혼잡제어
  - 흐름제어: 송신 / 수신 속도를 일치시킴
  - 혼잡제어: 네트워크 혼잡 시 송신률을 감속
- TCP 연결의 식별, 다중화, 포트번호
  - 소켓(양단 IP주소, 포트번호 쌍)으로 연결(회선) 식별
  - 단일 연결 뿐만 아니라 다수 연결의 동시적 처리도 가능
  - 포트 번호에 의해 어플리케이션과의 연결점 식별
- 전이중 전송방식/양방향성 (Full-Duplex)
  - 종단 간 양 프로세스가 서로 동시에 세그먼트 전달 가능
- 멀티캐스트 불가능
  - 유니캐스트 방식
- 세그먼트화 처리
  - 바이트들을 세그먼트화하고 TCP 헤더를 붙여서 순서제어
- 상위 응용과는 바이트 스트림으로 주고 받음
- 3-way handshaking으로 연결 설정, 4-way handshaking으로 연결 해제

<br>

## **TCP 서버 특징**

- 서버소켓은 연결만 담당
- 서버와 클라이언트는 1:1 연결 (유니캐스트)
- 스트림 전송으로 전송 데이터의 크기가 무제한
- 패킷에 대한 응담을 해야하기 때문에 성능이 낮음
- Streaming 서비스에 불리
  - 손실된 데이터는 재전송 요청 하므로

---

<br>

## **User Datagram Protocol; UDP**

- OSI 계층 모델의 4계층에 해당하는 TCP/IP 프로토콜 중 하나
- 낮은 신뢰성으로 완전성을 보증하지 않음
- 가상회선을 굳이 확립할 필요가 없음
- 유연하고 효율적인 어플리케이션의 데이터 전송에 적합
- 데이터 전송 단위: 데이터그램 (메세지)

![image](https://user-images.githubusercontent.com/60606025/152753174-83c5544d-eff5-49ef-8d36-22dceb48089a.png)

<br>

### **UDP 특징**

- 비연결형 서비스로 낮은 신뢰성과 순서화되지 않은 Datagram 서비스 제공
  - 비연결성 (논리적 가상회선 연결 필요 없음)
  - 확인 응답 없음 (메시지 도착했는지 확인 x)
  - 순서제어 없음 (순서번호 필드 없음)
  - 흐름제어 없음 (흐름제어를 위한 피드백 없음)
  - 오류제어 거의 없음 (CheckSum 필드를 통한 최소한의 오류만 검출)
- 실시간 어플리케이션 및 멀티캐스팅 가능
- 단순한 헤더
- TCP 보다 빠름

<br>

### **UDP 서버 특징**

- UDP에는 연결 자체가 없음
  - connect 함수 불필요
  - 서버 소켓과 클라이언트 소켓의 구분 없음
- 소켓 대신 IP 기반으로 데이터 전송
- 서버와 클라이언트는 1:1, 1:N, M:N 연결 가능
- 흐름제어가 없어서 패킷의 전송, 오류를 확인 불가
- 파일 전송 같은 신뢰성이 필요한 서비스 보다 성능이 중요할 때 사용

---

<br>

## **TCP와 UDP 비교**

| 프로토콜 종류  |      TCP       |         UDP         |
| :------------: | :------------: | :-----------------: |
|    연결방식    | 연결형 서비스  |   비연결형 서비스   |
| 패킷 교환 방식 | 가상 회선 방식 |   데이터그램 방식   |
|   전송 순서    |   순서 보장    | 순서가 바뀔 수 있음 |
| 수신 여부 확인 |       O        |          X          |
|   통신 방식    |   유니캐스트   |    1:1, 1:N, M:N    |
|     신뢰성     |      높음      |        낮음         |
|      속도      |      느림      |        빠름         |

<br>

> **참고**<br> > http://www.ktword.co.kr/test/view/view.php?m_temp1=347<br> > http://www.ktword.co.kr/test/view/view.php?m_temp1=323<br> > https://mangkyu.tistory.com/15
